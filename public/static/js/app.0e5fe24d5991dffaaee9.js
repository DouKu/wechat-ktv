webpackJsonp([1],{"+KzP":function(t,e){},"0q52":function(t,e,a){"use strict";var n=a("lC5x"),o=a.n(n),s=a("J0Oq"),i=a.n(s),c=a("BMa3"),r=a.n(c),u=a("QmSG"),l=a("WOFH"),d=a.n(l);e.a={data:function(){return{showToAuth:!1,authUrl:"https://open.weixin.qq.com/connect/oauth2/authorize?appid="+u.a.appId+"&redirect_uri="+encodeURIComponent(u.a.redirectUrl)+"&response_type=code&scope=snsapi_userinfo&state=1#wechat_redirect",localId:"",showText:""}},methods:{changeRouter:function(t){this.$router.push(t)},translateVoice:function(){var t=this;d.a.translateVoice({localId:this.localId,isShowProgressTips:0,success:function(e){t.showText=e.translateResult}})},startRecord:function(){var t=this;d.a.startRecord(),setTimeout(function(){t.stopRecord()},5e3)},stopRecord:function(){var t=this;d.a.stopRecord({success:function(e){t.localId=e.localId}})},playVoice:function(){d.a.playVoice({localId:this.localId})},pauseVoice:function(){d.a.pauseVoice({localId:this.localId})},stopVoice:function(){d.a.stopVoice({localId:this.localId})},uploadVoice:function(){d.a.uploadVoice({localId:this.localId,isShowProgressTips:0,success:function(t){var e=t.serverId;r.a.request({url:u.a.baseUrl+"/api/auth/audio",method:"post",data:{mediaId:e}})}})}},mounted:function(){var t=this;return i()(o.a.mark(function e(){var a,n,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.$route.query.code,(n=window.localStorage.getItem("openid"))||a){e.next=6;break}t.showToAuth=!0,e.next=20;break;case 6:if(!a||n){e.next=19;break}return t.showToAuth=!1,e.prev=8,e.next=11,r.a.request({method:"post",url:u.a.baseUrl+"/api/wechat/exchangeToken",data:{code:a}});case 11:s=e.sent,window.localStorage.setItem("openid",s.data.data.openid),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:e.next=20;break;case 19:t.showToAuth=!1;case 20:case"end":return e.stop()}},e,t,[[8,15]])}))()}}},"4Frp":function(t,e){},DICR:function(t,e,a){"use strict";var n=a("lC5x"),o=a.n(n),s=a("J0Oq"),i=a.n(s),c=a("WOFH"),r=a.n(c),u=a("QmSG"),l=a("BMa3"),d=a.n(l);e.a={name:"app",mounted:function(){var t=this;return i()(o.a.mark(function e(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.request({url:u.a.baseUrl+"/api/wechat/getJSConfig",method:"get",params:{url:window.location.href}});case 2:a=t.sent,r.a.config(a.data.data),r.a.ready(function(){console.log("config success")}),r.a.error(function(t){console.log("wx jsapi err:",t)}),r.a.onMenuShareTimeline({title:"美莱周年庆",link:u.a.redirectUrl+"?type=share",imgUrl:"http://os32fgzvj.bkt.clouddn.com/012489fbdca023b5de1f5ddb41e15f61-head-picture.jpg",success:function(){console.log("分享成功")},cancel:function(){console.log("分享失败")}}),r.a.onMenuShareAppMessage({title:"美莱周年庆",desc:"唱歌",link:u.a.redirectUrl+"?type=share",imgUrl:"http://os32fgzvj.bkt.clouddn.com/012489fbdca023b5de1f5ddb41e15f61-head-picture.jpg",success:function(){console.log("分享成功")},cancel:function(){console.log("分享失败")}});case 8:case"end":return t.stop()}},e,t)}))()}}},Es8E:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],s={render:n,staticRenderFns:o};e.a=s},L8Y5:function(t,e,a){"use strict";function n(t){a("4Frp")}var o=a("0q52"),s=a("hegJ"),i=a("46Yf"),c=n,r=i(o.a,s.a,!1,c,"data-v-ab3b5d52",null);e.a=r.exports},Lu2J:function(t,e){},M93x:function(t,e,a){"use strict";function n(t){a("Lu2J")}var o=a("DICR"),s=a("Es8E"),i=a("46Yf"),c=n,r=i(o.a,s.a,!1,c,null,null);e.a=r.exports},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("BQQs"),o=a("M93x"),s=a("YaEn"),i=a("+KzP");a.n(i);n.a.config.productionTip=!1,new n.a({el:"#app",router:s.a,render:function(t){return t(o.a)}})},QmSG:function(t,e,a){"use strict";e.a={appId:"wxed73c69d3bdf1dce",redirectUrl:"http://119.29.193.240",baseUrl:"http://119.29.193.240"}},"V/q6":function(t,e,a){"use strict";e.a={methods:{playVideo:function(){this.$refs.video.play()},pauseVideo:function(){this.$refs.video.pause()},stopVideo:function(){this.$refs.video.currentTime=0,this.$refs.video.pause()}}}},YaEn:function(t,e,a){"use strict";var n=a("BQQs"),o=a("cigS"),s=a("L8Y5"),i=a("kxSe");n.a.use(o.a),e.a=new o.a({mode:"history",routes:[{path:"/",name:"index",component:s.a},{path:"/video",name:"video",component:i.a}]})},adZT:function(t,e){},hegJ:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"100%"}},[t._v("\n  微信测试 "+t._s(t.showText)+"\n  "),a("a",{directives:[{name:"show",rawName:"v-show",value:t.showToAuth,expression:"showToAuth"}],staticStyle:{"font-size":"20px"},attrs:{href:t.authUrl}},[t._v("跳转授权")]),t._v(" "),a("div",{staticClass:"btn",on:{click:t.startRecord}},[t._v("开始录音")]),t._v(" "),a("div",{staticClass:"btn",on:{click:t.stopRecord}},[t._v("停止录音")]),t._v(" "),a("div",{staticClass:"btn",on:{click:t.playVoice}},[t._v("播放录音")]),t._v(" "),a("div",{staticClass:"btn",on:{click:t.pauseVoice}},[t._v("暂停播放")]),t._v(" "),a("div",{staticClass:"btn",on:{click:t.stopVoice}},[t._v("停止播放")]),t._v(" "),a("div",{staticClass:"btn",on:{click:t.translateVoice}},[t._v("识别语音")]),t._v(" "),a("div",{staticClass:"btn",on:{click:t.uploadVoice}},[t._v("上传")]),t._v(" "),a("div",{staticClass:"btn",on:{click:function(e){t.changeRouter("/video")}}},[t._v("观看视频")])])},o=[],s={render:n,staticRenderFns:o};e.a=s},kxSe:function(t,e,a){"use strict";function n(t){a("adZT")}var o=a("V/q6"),s=a("tBE9"),i=a("46Yf"),c=n,r=i(o.a,s.a,!1,c,null,null);e.a=r.exports},tBE9:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-video"},[a("video",{ref:"video",staticStyle:{"object-fit":"fill",width:"100%",height:"100%"},attrs:{src:"http://os32fgzvj.bkt.clouddn.com/test.mp4",preload:"auto","webkit-playsinline":"true",playsinline:"true","x-webkit-airplay":"allow","x5-video-player-type":"h5","x5-video-player-fullscreen":"true","x5-video-orientation":"portraint"}}),t._v(" "),a("div",{staticClass:"btn",on:{click:t.playVideo}},[t._v("播放视频")]),t._v(" "),a("div",{staticClass:"btn",on:{click:t.pauseVideo}},[t._v("暂停视频")]),t._v(" "),a("div",{staticClass:"btn",on:{click:t.stopVideo}},[t._v("停止视频")])])},o=[],s={render:n,staticRenderFns:o};e.a=s}},["NHnr"]);
//# sourceMappingURL=app.0e5fe24d5991dffaaee9.js.map